(define (tree-map f tree)
  (cond ((null? tree) '())
        ((pair? tree) (cons (tree-map (car tree))
                            (tree-map (cdr tree))))
        (#t (f tree))))
